<!doctype html>
<html ng-app="giphies">
<head>
    <title>Andy Lin - DES157: Studio 5</title>
    <link rel="icon" href="favicon.png">
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.2/angular.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.6.9/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/2.3.0/angularfire.min.js"></script>
    <script src="script.js" type="text/javascript"></script>
</head>
<body>
    <main ng-controller="AuthController">
        <!-- <div ng-controller="ObjectController">
            <h1>Firebase Single Object</h1>
            <input type="text" ng-model="data.text"/>
            <p>You said: {{ data.text }}</p>
        </div> -->
        <form ng-submit="login()" ng-show="!user.email">
            <p>Password needs to be longer than 6 characters.</p>
            <p>Might take a few seconds to login. Try refreshing after like 5 seconds.</p>
            <input ng-model="username" placeholder="Email" type="text">
            <input ng-model="password" placeholder="Password" type="password">
            <button type="submit">Log In</button>
        </form>
        <p>{{ user.email }}</p>
        <button ng-show="user.email" ng-click="logout()">Log Out</button>
        <div class="row" ng-show="user.email">
            <div class="col" ng-controller="ArrayController">
                <h1>Add GIF</h1>
                <form ng-submit="addGiphy()">
                    <input id="term" ng-model="term" />
                    <button type="submit">Add gif</button>
                </form>
                <ul>
                    <li ng-repeat="gif in gifs | orderBy:reverse:true"><img src="{{ gif.text }}">&nbsp;<span>({{ gif.user }})</span>&nbsp;<button ng-click="gifs.$remove(gif)">Delete</button></li>
                </ul>
            </div>
            <div class="col" ng-controller="MessagesController">
                <h1>Add Message</h1>
                <form ng-submit="addGiphy()">
                    <input id="message" ng-model="term" />
                    <button type="submit">Add Message</button>
                </form>
                <ul>
                    <li ng-repeat="message in messages | orderBy:reverse:true">{{ message.text }}&nbsp;<span>({{ message.user }})</span>&nbsp;<button ng-click="messages.$remove(message)" type="button">delete</button></li>
                </ul>
            </div>
        </div>
        <footer>
            <a href="http://validator.w3.org/check?uri=referer" target="_blank">Valid HTML 5</a>
            <a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">Valid CSS</a>
        </footer>
    </main>
</body>
</html>
